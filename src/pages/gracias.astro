---
import CinemaLayout from "../layouts/cinemaLayout.astro";
---

<CinemaLayout title="Spooky Hackaton-Gracias">
    <main class="h-full w-full">
        <div class="w-full h-[1050px]">
            <img id="gracias_1" class="z-50 w-full h-full" />
            <img id="gracias_2" class="z-50 w-full h-full hidden" />
        </div>
        <div
            class="absolute top-0 left-0 w-full h-full z-20 flex flex-col items-center justify-center"
        >
            <div
                class="flex flex-col items-center bg-white px-12 py-8 rounded-3xl bg-opacity-75 sm:bg-opacity-20 sm:backdrop-filter sm:backdrop-blur-lg
                                border border-black border-opacity-20 shadow-lg"
            >
                <div class="flex justify-center items-start space-x-40">
                    <img src="/img/brand/todos.png" />
                </div>
                <div class="flex flex-col items-center w-full my-12">
                    <h3 class="fuente-urbanist tracking-wider font-light">
                        Puedes encontrarnos
                    </h3>
                    <hr class="w-2/5 bg-black my-2" />
                </div>
                <div class="flex justify-center items-start space-x-40">
                    <div class="flex flex-col items-center">
                        <a
                            href="https://www.clstudio.dev/"
                            target="_blank"
                            class="w-20 h-20 rounded-full shadow-2xl overflow-hidden flex items-center justify-center bg-white hover:scale-110 transition-all duration-200 mb-4"
                        >
                            <img
                                src="/img/brand/clstudio.png"
                                alt="CLStudio"
                                class="w-auto h-8 object-contain"
                            />
                        </a>
                        <p
                            class="text-center text-black font-light fuente-urbanist tracking-wider"
                        >
                            Programación & Diseño de historia
                        </p>
                    </div>

                    <div class="flex flex-col items-center">
                        <a
                            href="https://www.instagram.com/almtattoo/?hl=es"
                            target="_blank"
                            class="w-20 h-20 rounded-full shadow-2xl overflow-hidden flex items-center justify-center bg-white hover:scale-110 transition-all duration-200 mb-4"
                        >
                            <img
                                src="/img/brand/alm.svg"
                                alt="AlmTattoo"
                                class="w-auto h-12 object-contain"
                            />
                        </a>
                        <p
                            class="text-center text-black font-light fuente-urbanist tracking-wider"
                        >
                            Diseño, Arte & Animaciones
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>
</CinemaLayout>

<script type="text/javascript">
    const animationSrc_1 = "/animations/gracias_1.gif";
    const animationSrc_2 = "/animations/gracias_2.gif";
    const gif = document.getElementById("gracias_1");
    const gif2 = document.getElementById("gracias_2");

    gif.src = animationSrc_1;

    function loopGif() {
        gif.classList.add("hidden");
        gif2.classList.remove("hidden");
        gif2.src = animationSrc_2;
    }

    document.addEventListener("DOMContentLoaded", function () {
        const img = document.getElementById("gracias_1");
        if (img) {
            fetch(img.src)
                .then((response) => response.blob())
                .then((blob) => {
                    const url = URL.createObjectURL(blob);
                    img.src = url;
                    img.addEventListener("load", function () {
                        setTimeout(() => {
                            const canvas = document.createElement("canvas");
                            canvas.width = img.naturalWidth;
                            canvas.height = img.naturalHeight;
                            canvas.getContext("2d").drawImage(img, 0, 0);
                            img.src = canvas.toDataURL();
                            URL.revokeObjectURL(url);
                        }, 3800); //
                    });
                });
        }
    });

    setTimeout(loopGif, 3800);
</script>
